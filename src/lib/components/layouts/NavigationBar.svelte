<script>
	import { page } from '$app/stores';
	import ThemeChanger from '$lib/components/ui/navBar/ThemeChanger.svelte';
	import New from '../ui/badges/New.svelte';
	import Wip from '../ui/badges/Wip.svelte';

	let user = $page.data.session && $page.data.session.user;
</script>

<!-- svelte-ignore a11y-missing-attribute -->
<!-- svelte-ignore a11y-no-noninteractive-tabindex -->
<div class="drawer-new">
	<input type="checkbox" id="my-drawer-3" class="drawer-toggle" />
	<div class="drawer-content flex flex-col">
		<!-- Navbar -->
		<div class="navbar fixed w-full border-b border-base-100 backdrop-blur-md">
			<div class="flex-1 lg:hidden">
				<label for="my-drawer-3" class="btn-ghost btn-square btn">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						fill="none"
						viewBox="0 0 24 24"
						class="inline-block h-6 w-6 stroke-current"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M4 6h16M4 12h16M4 18h16"
						/>
					</svg>
				</label>
			</div>

			<div class="hidden flex-1 lg:block">
				<a href="/home"><div class="btn-ghost btn mx-2 px-2">feavelçš„éƒ¨è½</div></a>
				<div class="menu menu-horizontal">
					<!-- Navbar menu content here -->
					<div class="dropdown-hover dropdown-end dropdown">
						<a tabindex="0" class="btn-ghost btn m-1" href="/learn">å­¦ä¹ </a>

						<div
							tabindex="0"
							class="dropdown-content grid w-max grid-cols-3 rounded-sm bg-base-200 p-4 shadow"
						>
							<!-- ç¼–ç¨‹ -->
							<ul class="menu">
								<li class="menu-title">
									<span>ç½‘ç»œå·¥ç¨‹</span>
								</li>
								<li>
									<a href="/learn/programming">
										ğŸ‘¶ğŸ» åŸºç¡€çŸ¥è¯† <New />
									</a>
								</li>
								<li>
									<a>
										ğŸ¨ å‰ç«¯å·¥ç¨‹ <Wip />
									</a>
								</li>
								<li>
									<a>
										åæ®µåŒº <Wip />
									</a>
								</li>
							</ul>
							<!-- å“²å­¦ -->
							<ul class="menu">
								<li class="menu-title">
									<span>å“²å­¦</span>
								</li>
								<li>
									<a>
										å“²å­¦å² <Wip />
									</a>
								</li>
								<li>
									<a>
										ç²¾ç¥åˆ†æ <Wip />
									</a>
								</li>
								<li>
									<a>
										åœ°ç¼˜æ”¿æ²»å­¦ <Wip />
									</a>
								</li>
							</ul>

							<!-- éŸ³ä¹ -->
							<ul class="menu">
								<li class="menu-title">
									<span>éŸ³ä¹</span>
								</li>
								<li>
									<a>
										éŸ³ä¹åˆ¶ä½œ <Wip />
									</a>
								</li>
								<li>
									<a>
										æ··éŸ³ <Wip />
									</a>
								</li>
								<li>
									<a>
										æ¯å¸¦ <Wip />
									</a>
								</li>
								<li>
									<a>
										å½•éŸ³/å½•åˆ¶ <Wip />
									</a>
								</li>
							</ul>
						</div>
					</div>

					<div class="dropdown-end dropdown-hover dropdown">
						<div tabindex="0" class="btn-ghost btn m-1">ç¤¾åŒº</div>

						<div
							tabindex="0"
							class="dropdown-content grid w-max grid-cols-2 rounded-sm bg-base-200 p-4 shadow"
						>
							<ul class="menu w-56">
								<li class="menu-title">
									<span>BLOG</span>
								</li>
								<li>
									<a href="/community">
										åšå®¢ä¸»é¡µ <New />
									</a>
								</li>
								<li>
									<a href="/community/guide">
										ç¤¾åŒºæŒ‡å—ğŸ§­ <New />
									</a>
								</li>
								<li>
									<a href="/my-account">
										æˆ‘çš„åšå®¢ <New />
									</a>
								</li>
							</ul>
							<ul class="menu">
								<li class="menu-title">
									<span>ç‰¹æ®ŠæœåŠ¡</span>
								</li>
								<li>
									<a href="/community/guide/contribute">
										è´¡çŒ® <New />
									</a>
								</li>
								<li>
									<a>
										èµåŠ© <Wip />
									</a>
								</li>
								<li>
									<a>
										å…³äºç½‘ç«™ <Wip />
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>

			<a href="/my-account">
				<div class="btn-ghost btn flex gap-2 px-4">
					{#if user}æˆ‘çš„è´¦æˆ·{:else}ç™»å½•{/if}
				</div>
			</a>
			<div class="flex-2">
				<ThemeChanger />
			</div>
		</div>
		<!-- Page content here -->
		<slot />
	</div>
	<!-- Drawer -->
	<div class="drawer-side">
		<label for="my-drawer-3" class="drawer-overlay" />
		<div class="menu w-80 bg-base-100 p-4">
			<!-- Sidebar content here -->
			<a href="/home"><div class="btn-primary  btn mx-2 px-2">feavelçš„éƒ¨è½ - ä¸»é¡µ</div></a>
			<div class="divider" />
			<!-- Blog -->
			<ul class="menu">
				<li class="menu-title">
					<span>ç¤¾åŒº</span>
				</li>
				<li>
					<a href="/community">
						ğŸ“¨ åšå®¢ä¸»é¡µ <New />
					</a>
				</li>
				<li>
					<a href="/my-account">
						ğŸ“« æˆ‘å‘çš„å¸–å­
						<New />
					</a>
				</li>

				<li>
					<a href="/community/guide/contribute">
						ğŸ’• è´¡çŒ® <New />
					</a>
				</li>
			</ul>
			<div class="divider" />
			<!-- ç¼–ç¨‹ -->
			<ul class="menu">
				<li class="menu-title">
					<span>ç½‘ç»œå·¥ç¨‹</span>
				</li>
				<li>
					<a href="/learn/programming">
						ğŸ‘¶ğŸ» åŸºç¡€çŸ¥è¯† <New />
					</a>
				</li>
				<li>
					<a>
						ğŸ¨ å‰ç«¯å·¥ç¨‹ <Wip />
					</a>
				</li>
				<li>
					<a>
						åæ®µåŒº <Wip />
					</a>
				</li>
			</ul>
			<div class="divider" />
			<!-- å“²å­¦ -->
			<ul class="menu">
				<li class="menu-title">
					<span>å“²å­¦</span>
				</li>
				<li>
					<a>
						å“²å­¦å²
						<Wip />
					</a>
				</li>
				<li>
					<a>
						ç¥åˆ†æ
						<Wip />
					</a>
				</li>
			</ul>
			<div class="divider" />

			<!-- éŸ³ä¹ -->
			<ul class="menu">
				<li class="menu-title">
					<span>éŸ³ä¹</span>
				</li>
				<li>
					<a>
						ä¹åˆ¶ä½œ
						<Wip />
					</a>
				</li>
				<li>
					<a>
						æ··éŸ³
						<Wip />
					</a>
				</li>
				<li>
					<a>
						æ¯å¸¦
						<Wip />
					</a>
				</li>
				<li>
					<a>
						å½•/å½•åˆ¶
						<Wip />
					</a>
				</li>
			</ul>
		</div>
	</div>
</div>
